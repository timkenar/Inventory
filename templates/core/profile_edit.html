<form 
  hx-post="{% url 'core:profile_update' %}" 
  hx-target="#profile-popup" 
  hx-swap="innerHTML" 
  class="space-y-4"
>
  {% csrf_token %}
  <div>
    <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
    <input 
      type="text" 
      name="username" 
      id="username" 
      value="{{ request.user.username }}"
      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
      required
    >
  </div>
  <div>
    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
    <input 
      type="email" 
      name="email" 
      id="email" 
      value="{{ request.user.email }}"
      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
      required
    >
  </div>
  <div>
    <label for="first_name" class="block text-sm font-medium text-gray-700">First Name</label>
    <input 
      type="text" 
      name="first_name" 
      id="first_name" 
      value="{{ request.user.first_name }}"
      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
    >
  </div>
  <div>
    <label for="last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
    <input 
      type="text" 
      name="last_name" 
      id="last_name" 
      value="{{ request.user.last_name }}"
      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
    >
  </div>
  <div class="flex justify-end space-x-2">
    <button 
      type="button" 
      onclick="document.getElementById('profile-popup-overlay').style.display='none'"
      class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"
    >
      Cancel
    </button>
    <button 
      type="submit" 
      class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
    >
      Save Changes
    </button>
  </div>
</form>